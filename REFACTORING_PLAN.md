# Studio App Refactoring Plan

## üéØ –¶–µ–ª—å
–ó–∞–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `apps/studio/src/ui/` –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `@kb-labs/studio-ui-kit` –∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –≤–µ—Å—å –∫–æ–¥ –∫ –µ–¥–∏–Ω–æ–º—É —Å—Ç–∏–ª—é.

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `apps/studio/src/ui/`:
1. ‚úÖ **Text.tsx** - Typography primitive (–¥—É–±–ª–∏–∫–∞—Ç UIText)
2. ‚úÖ **Box.tsx** - Layout primitive (–¥—É–±–ª–∏–∫–∞—Ç UIBox)
3. ‚úÖ **Flex.tsx** - Flexbox layout (–¥—É–±–ª–∏–∫–∞—Ç UIFlex)
4. ‚úÖ **UIBadge.tsx** - Status badges (–¥—É–±–ª–∏–∫–∞—Ç UIBadge)
5. ‚ùì **MetricCard.tsx** - Metric display (–Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å UIMetricCard)

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—â–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

#### 1. Page Components (3 —Ñ–∞–π–ª–∞)
- `src/pages/gallery-page.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç inline styles
- `src/pages/login-page.tsx` - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
- `src/pages/not-found-page.tsx` - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

#### 2. Component Files (~20 —Ñ–∞–π–ª–æ–≤)
- `src/components/page-header.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Ant Design Typography + inline styles
- `src/components/empty-state.tsx` - –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UIEmptyState
- `src/components/health-banner.tsx` - –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞
- `src/components/action-toolbar.tsx` - –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UIButton
- `src/components/widget-modal.tsx` - –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UIModal
- –ò –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã...

## üìã –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### Phase 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (‚úÖ Completed)
- [x] –°–æ–∑–¥–∞–Ω `@kb-labs/studio-ui-kit` –ø–∞–∫–µ—Ç —Å 29 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (vitest + devkit preset)
- [x] –ù–∞–ø–∏—Å–∞–Ω—ã –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã (4 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, 21 —Ç–µ—Å—Ç)
- [x] –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### Phase 2: –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è (—Ç–µ–∫—É—â–∞—è —Ñ–∞–∑–∞)
- [ ] –°–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ `apps/studio/src/`
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω—É–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤ ui-kit

### Phase 3: –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤
**–¶–µ–ª—å:** –ó–∞–º–µ–Ω–∏—Ç—å Text, Box, Flex, Badge –Ω–∞ UI Kit –≤–µ—Ä—Å–∏–∏

#### 3.1. –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã –∏–∑ `src/ui/`
- [ ] –£–¥–∞–ª–∏—Ç—å `src/ui/Text.tsx` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `UIText` –∏–∑ kit
- [ ] –£–¥–∞–ª–∏—Ç—å `src/ui/Box.tsx` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `UIBox` –∏–∑ kit
- [ ] –£–¥–∞–ª–∏—Ç—å `src/ui/Flex.tsx` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `UIFlex` –∏–∑ kit
- [ ] –£–¥–∞–ª–∏—Ç—å `src/ui/UIBadge.tsx` ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `UIBadge` –∏–∑ kit

#### 3.2. –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã
- [ ] –°–æ–∑–¥–∞—Ç—å –∞–ª–∏–∞—Å—ã –≤ `src/ui/index.ts`:
  ```ts
  export { UIText as Text, UIBox as Box, UIFlex as Flex, UIBadge as Badge } from '@kb-labs/studio-ui-kit';
  ```
- [ ] –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã (–ø–æ–∏—Å–∫: `from '../ui'` ‚Üí `from '@kb-labs/studio-ui-kit'`)

#### 3.3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å MetricCard
- [ ] –°—Ä–∞–≤–Ω–∏—Ç—å `src/ui/MetricCard.tsx` —Å `UIMetricCard` –∏–∑ kit
- [ ] –ï—Å–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã ‚Äî —É–¥–∞–ª–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é
- [ ] –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞–∑–ª–∏—á–∏—è –∏ —Ä–µ—à–∏—Ç—å, —á—Ç–æ –¥–µ–ª–∞—Ç—å

### Phase 4: –ú–∏–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü
**–¶–µ–ª—å:** –û–±–Ω–æ–≤–∏—Ç—å page-header, empty-state –∏ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 4.1. PageHeader ‚Üí UIHeader
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å API
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å `page-header.tsx` –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `UIHeader`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ pages

#### 4.2. Empty States
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å `empty-state.tsx` –Ω–∞ `UIEmptyState` –∏–∑ kit
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### 4.3. Modals & Overlays
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `widget-modal.tsx` –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `UIModal`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–∏–º API

### Phase 5: –ú–∏–≥—Ä–∞—Ü–∏—è —Ñ–æ—Ä–º
**–¶–µ–ª—å:** –ó–∞–º–µ–Ω–∏—Ç—å form –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ UI Kit –≤–µ—Ä—Å–∏–∏

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `src/components/widgets/form/` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `UIInput`, `UISelect`, `UICheckbox`, `UISwitch` –∏ —Ç.–¥.
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

### Phase 6: –£–¥–∞–ª–µ–Ω–∏–µ inline styles
**–¶–µ–ª—å:** –£–±—Ä–∞—Ç—å –≤—Å–µ `style={{...}}` –∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å props

#### 6.1. Gallery Page
```tsx
// Before
<div style={{ padding: '2rem', textAlign: 'center' }}>
  <h1>Gallery</h1>
  <p>No widgets available</p>
</div>

// After
<UIBox p={8} style={{ textAlign: 'center' }}>
  <UITitle level={1}>Gallery</UITitle>
  <UIText>No widgets available</UIText>
</UIBox>
```

#### 6.2. Page Header
```tsx
// Before
<div style={{ marginBottom: '24px' }}>
  <Title level={1} style={{ margin: 0, color: 'var(--text-primary)' }}>
    {title}
  </Title>
</div>

// After
<UIHeader
  title={title}
  subtitle={description}
  actions={actions}
  breadcrumb={breadcrumbs}
/>
```

### Phase 7: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –∏ –∏–º–ø–æ—Ä—Ç–æ–≤
- [ ] –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã –∏–∑ `antd`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å TypeScript –æ—à–∏–±–∫–∏

### Phase 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `pnpm dev`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–∏–∑—É–∞–ª—å–Ω–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å responsive layout
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É (–µ—Å–ª–∏ –µ—Å—Ç—å)

### Phase 9: Cleanup
- [ ] –£–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É `src/ui/` (–µ—Å–ª–∏ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å imports –≤ `tsconfig.json` paths
- [ ] –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `pnpm lint:fix`

## üé® –°—Ç–∏–ª—å –∫–æ–¥–∞

### ‚úÖ DO:
```tsx
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UI Kit –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
import { UIText, UIBox, UIButton } from '@kb-labs/studio-ui-kit';

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å spacing props –≤–º–µ—Å—Ç–æ inline styles
<UIBox p={4} mb={2}>
  <UIText size="lg" weight="bold">Title</UIText>
</UIBox>

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å semantic colors
<UIText color="secondary">Description</UIText>
<UIBadge variant="success">Active</UIBadge>
```

### ‚ùå DON'T:
```tsx
// –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å inline styles –¥–ª—è spacing/colors
<div style={{ padding: '1rem', marginBottom: '0.5rem' }}>
  <h1 style={{ color: '#333' }}>Title</h1>
</div>

// –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å hardcoded colors
style={{ color: '#52c41a' }}

// –ù–µ —Å–º–µ—à–∏–≤–∞—Ç—å Ant Design Typography —Å UI Kit
import { Typography } from 'antd';
const { Title } = Typography;
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- ‚úÖ 0 inline `style={{}}` –¥–ª—è spacing –∏ colors
- ‚úÖ 0 hardcoded —Ü–≤–µ—Ç–æ–≤ (hex/rgb)
- ‚úÖ 100% –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ UI Kit –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏–∑ `@kb-labs/studio-ui-kit`
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –±–∞–≥–æ–≤

## üöÄ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

### High Priority (–Ω–∞—á–∞—Ç—å –ø–µ—Ä–≤—ã–º)
1. –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä–∏–º–∏—Ç–∏–≤—ã (Text, Box, Flex) - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–µ–∑–¥–µ
2. –û–±–Ω–æ–≤–∏—Ç—å PageHeader - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
3. –£–¥–∞–ª–∏—Ç—å inline styles –∏–∑ gallery-page

### Medium Priority
4. –û–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
5. –û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–∞–ª—ã –∏ –æ–≤–µ—Ä–ª–µ–∏
6. –û–±–Ω–æ–≤–∏—Ç—å empty states –∏ error states

### Low Priority
7. Cleanup –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
8. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
9. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

## üìù –ó–∞–º–µ—Ç–∫–∏

- **Backward compatibility:** –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∞–ª–∏–∞—Å—ã –≤ `src/ui/index.ts` –¥–ª—è –ø–ª–∞–≤–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
- **Testing strategy:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- **Rollback plan:** Git branches –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã
- **Performance:** UI Kit –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ –º–µ–¥–ª–µ–Ω–Ω–µ–µ —Ç–µ–∫—É—â–∏—Ö

---

**Created:** 2026-01-27
**Status:** Phase 2 (–ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è)
**Next Step:** –°–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
